---
title: 事件代理
date: 2025-09-15
tags: ["javascript", "事件"]
excerpt: "事件代理（事件委托）"
---

## 事件代理

由于事件会在冒泡阶段向上传播到父节点，因此可以把子节点的监听函数定义在父节点上，由父节点的监听函数统一处理多个子元素的事件。这种方法叫做事件的代理（delegation）。

对于下面的代码

```html
<ul id="list">
    <li>列表1</li>
    <li>列表2</li>
</ul>
<script>
    let list = document.getElementById("list")

    list.addEventListener("click", function () {
        console.log("点击了")
    })
</script>
```

当点击`<ul>`的两个子元素`<li>`的时候控制台都会输出

```console
点击了
```

如果`<ul>`元素内部还有`<p>`元素，我们想实现点击`<li>`元素时返回其中的内容，点击`<p>`元素时不返回内容，可以

```html
<ul id="list">
    <li>列表1</li>
    <li>列表2</li>
    <p>我是文本</p>
</ul>
<script>
    let list = document.getElementById("list")

    list.addEventListener("click", function (event) {
        if (event.target.tagName.toLowerCase() === "li") {
            console.log(event.target.innerHTML)
        }
    })
</script>
```

依次点击前两个`<li>`元素，控制台输出

```console
列表1
列表2
```

点击`<p>`元素控制台没有输出。
