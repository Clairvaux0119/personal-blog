---
title: 事件类型
date: 2025-09-11
tags: ["javascript", "事件"]
excerpt: "不同的事件类型"
---

## 常用事件类型分类

鼠标事件：`click`, `dblclick`, `mouseover`, `mouseout`, `mousemove`, `contextmenu` (右键菜单)

键盘事件：`keydown`, `keyup`, `keypress`

表单事件：`submit`, `change`, `input`, `focus`, `blur`

窗口/文档事件：`load`, `DOMContentLoaded`, `resize`, `scroll`

触摸事件 (移动端)：`touchstart`, `touchmove`, `touchend`

当事件发生的时候，浏览器会自动创建一个事件对象，并作为参数传递给事件处理函数。这个对象包含了事件的详细信息。

## 鼠标事件

鼠标事件指与鼠标相关的事件，具体的事件主要有以下一些

|属性|描述|DOM级别|
|---|---|---|
|click|当用户点击某个对象时调用的事件句柄|2|
|contextmenu|在用户点击鼠标右键打开上下文菜单时触发|2|
|dblclick|当用户双击某个对象时调用的事件句柄|2|
|mousedown|鼠标按钮被按下|2|
|mouseenter|鼠标进入一个节点时触发，进入子节点不会触发这个事件|2|
|mouseleave|鼠标离开一个节点时触发，离开父节点不会触发这个事件|2|
|mousemove|鼠标被移动|2|
|mouseover|鼠标进入一个节点时触发，进入子节点会再一次触发这个事件|2|
|mouseout|鼠标进入一个节点时触发，离开父节点也会触发这个事件|2|
|mouseup|鼠标按键被松开|2|
|wheel|滚动鼠标滚轮时触发|3|

### 鼠标点击事件

```html
<button id="btn1">点击</button>
<button id="btn2">双击</button>
<button id="btn3">右键点击</button>

<script>
    let btn1 = document.getElementById("btn1")
    let btn2 = document.getElementById("btn2")
    let btn3 = document.getElementById("btn3")

    // click事件
    btn1.addEventListener("click", function () {
        console.log("元素被点击了")
    })

    // dblclick事件
    btn2.addEventListener("dblclick", function () {
        console.log("元素被双击了")
    })

    // contextmenu 事件（右键菜单）
    btn3.addEventListener('contextmenu', function () {
        event.preventDefault() // 阻止默认右键菜单
        console.log('右键点击')
        // 显示自定义右键菜单
    })
</script>
```

网页输出

<!-- markdownlint-disable no-inline-html -->
<button>点击</button> <button>双击</button> <button>右键点击</button>
<!-- markdownlint-restore -->

依次用鼠标执行对应操作后控制台输出

```console
元素被点击了
元素被双击了
右键点击
```

### 鼠标按下/释放事件

```html
<button id="btn1">鼠标按下</button>
<button id="btn2">鼠标抬起</button>

<script>
    let btn1 = document.getElementById("btn1")
    let btn2 = document.getElementById("btn2")
// mousedown事件
btn1.addEventListener("mousedown", function () {
            console.log('鼠标按下，按钮:', event.button)
            // 0: 左键, 1: 中键, 2: 右键
        })

// mouseup事件
btn2.addEventListener("mouseup", function () {
    console.log("鼠标按钮抬起")
})
</scrpt>
```

网页输出

<!-- markdownlint-disable no-inline-html -->
<button>鼠标按下</button> <button>鼠标抬起</button>
<!-- markdownlint-restore -->

依次用鼠标执行对应操作后控制台输出

```console
鼠标按下，按钮: 0
鼠标按钮抬起
```

### 鼠标移动事件

```html
<head>
    <style>
        #btn {
            width: 100px;
            height: 100px;
            background-color: red;
        }
    </style>
</head>

<body>
    <div id="btn"></div>

    <script>
        let btn = document.getElementById("btn")
        // mousemove事件
        btn.addEventListener("mousemove", function () {
            console.log("鼠标移动了")
        })

        // mouseleave事件
        btn.addEventListener("mouseleave", function () {
            console.log("鼠标离开了")
        })
    </script>
</body>
```

网页输出

<!-- markdownlint-disable no-inline-html -->
<style>
    #btn {
        width: 100px;
        height: 100px;
        background-color: red;
    }
</style>

<div id="btn"></div>
<!-- markdownlint-restore -->

鼠标在元素中移动时控制台输出

```console
鼠标移动了
```

鼠标离开元素后控制台输出

```console
鼠标离开了
```

### 鼠标进入/离开事件

```html
<head>
    <style>
        #btn {
            width: 100px;
            height: 100px;
            background-color: red;
        }
    </style>
</head>

<body>
    <div id="btn"></div>

    <script>
        let btn = document.getElementById("btn")
        // mouseenter事件
        btn.addEventListener("mouseenter", function () {
            console.log("鼠标进入元素")
        })

        // mouseout事件
        btn.addEventListener("mouseout", function () {
            console.log("鼠标离开元素")
        })
    </script>
</body>
```

网页输出

<!-- markdownlint-disable no-inline-html -->
<style>
    #btn {
        width: 100px;
        height: 100px;
        background-color: red;
    }
</style>

<div id="btn"></div>
<!-- markdownlint-restore -->

当鼠标进入元素后控制台输出

```console
鼠标进入元素
```

当鼠标离开元素后控制台输出

```console
鼠标离开元素
```

### 滚轮事件

```html
<head>
    <style>
        #btn {
            width: 100px;
            height: 100px;
            background-color: red;
        }
    </style>
</head>

<body>
    <div id="btn"></div>

    <script>
        let btn = document.getElementById("btn")
        // wheel事件
        btn.addEventListener("wheel", function () {
            console.log("滑动鼠标滚轮")
        })
    </script>
</body>
```

网页输出

<!-- markdownlint-disable no-inline-html -->
<style>
    #btn {
        width: 100px;
        height: 100px;
        background-color: red;
    }
</style>

<div id="btn"></div>
<!-- markdownlint-restore -->

在元素内滑动滚轮后控制台输出

```console
滑动鼠标滚轮
```

## 键盘事件

键盘事件由用户击打键盘触发，主要有`keydown`、`keypress`、`keyup`三个事件。

|属性|描述|DOM级别|
|---|---|---|
|keydown|某个键盘按键被按下触发，不松开按键会连续触发|2|
|keypress|某个有值的键盘按键被按下并松开后触发，即按下Ctrl、Alt、Shift、Meta、delete这样无值的键，这个事件不会触发。对于有值的键，按下时先触发keydown事件，再触发这个事件|2|
|keyup|某个键盘按键被松开|2|

### keydown事件

```html
<input type="text" id="username" placeholder="请输入用户名">

<script>
    let username = document.getElementById("username")

    username.addEventListener("keydown", function () {
        console.log("键盘输入内容：", event.target.value)
    })
</script>
```

通过键盘依次键入 "username" 后网页输出

<!-- markdownlint-disable no-inline-html -->
<style>
    input::placeholder {
        color: black;
        font-size: 14px;
    }
</style>

<input type="text" id="username" placeholder="username">
<!-- markdownlint-restore -->

通过键盘依次键入 "username" 后控制台输出

```console
键盘输入内容： 
键盘输入内容： u
键盘输入内容： us
键盘输入内容： use
键盘输入内容： user
键盘输入内容： usern
键盘输入内容： userna
键盘输入内容： usernam
```

第一次输入控制台输出为空的原因是，`keydown`事件检测的是键盘按下时候输入框内的值，第一次按下时输入框内内容为空。

### keyup事件

```html
<input type="text" id="username" placeholder="请输入用户名">

<script>
    let username = document.getElementById("username")

    username.addEventListener("keyup", function () {
        console.log("键盘输入内容：", event.target.value)
    })
</script>
```

通过键盘依次键入 "username" 后网页输出

<!-- markdownlint-disable no-inline-html -->
<style>
    input::placeholder {
        color: black;
        font-size: 14px;
    }
</style>

<input type="text" id="username" placeholder="username">
<!-- markdownlint-restore -->

通过键盘依次键入 "username" 后控制台输出

```console
键盘输入内容： u
键盘输入内容： us
键盘输入内容： use
键盘输入内容： user
键盘输入内容： usern
键盘输入内容： userna
键盘输入内容： usernam
键盘输入内容： username
```

利用`keyup`事件检测的是按键松开后输入框内键入的内容，所以控制台第一个输出的是 "u" 。

### keypress事件（已废弃）

```html
<input type="text" id="username" placeholder="请输入用户名">

<script>
    let username = document.getElementById("username")

    username.addEventListener("keypress", function () {
        console.log("键盘输入内容：", event.target.value)
    })
</script>
```

通过键盘依次键入 "username" 后网页输出

<!-- markdownlint-disable no-inline-html -->
<style>
    input::placeholder {
        color: black;
        font-size: 14px;
    }
</style>

<input type="text" id="username" placeholder="username">
<!-- markdownlint-restore -->

通过键盘依次键入 "username" 后控制台输出

```console
键盘输入内容： 
键盘输入内容： u
键盘输入内容： us
键盘输入内容： use
键盘输入内容： user
键盘输入内容： usern
键盘输入内容： userna
键盘输入内容： usernam
```

废弃原因

1. 不能检测功能键

2. 行为不一致

3. 被`keydown`和`input`事件替代，文本输入改用`input`事件，功能按键 改用`keydown`事件。

## 表单事件

表单事件是在使用表单元素及输入框元素时可以监听的一系列事件。

|属性|描述|DOM级别|
|---|---|---|
|blur|元素失去焦点时触发|2|
|change|该事件在表单元素的内容改变时触发(`<input>`, `<keygen>`, `<select>`, 和`<textarea>`)|2|
|focus|元素获取焦点时触发|2|
|focusin|元素即将获取焦点时触发|2|
|focusout|元素即将失去焦点时触发|2|
|input|元素获取用户输入时触发|3|
|reset|表单重置时触发|2|
|search|用户向搜索域输入文本时触发 (`<input="search">`)| |
|select|用户选取文本时触发 (`<input>`和`<textarea>`)|2|
|submit|表单提交时触发|2|

### 核心表单事件

#### submit事件

submit事件在表单数据向服务器提交时触发。注意，submit事件的发生对象是`<form>`元素，而不是`<button>`元素。因为提交的是表单，而不是按钮。

```html
<form action="" id="myForm">
    <input type="text">
    <button id="submitBtn">提交</button>
</form>

<script>
    let submitBtn = document.getElementById("submitBtn")
    let myForm  = document.getElementById("myForm")

    submitBtn.addEventListener("click", function ()  {
        myForm.submit()
    })
</script>
```

点击提交按钮后控制台输出

```console
表单内容已提交
```

#### reset事件

reset事件在表单重置（所有表单成员变回默认值）时触发。

```html
<form action="" id="myForm">
    <input type="text">
    <button id="resetBtn">重置</button>
</form>

<script>
    let resetBtn = document.getElementById("resetBtn")
    let myForm  = document.getElementById("myForm")

    resetBtn.addEventListener("click", function ()  {
        myForm.reset()
        console.log("表单内容已重置")
    })
```

在输入框输入内容并点击重置按钮后，控制台输出

```console
表单内容已重置
```

### 输入元素表单事件

#### input事件

input事件在`<input>`、`<select>`、`<textarea>`的值发生变化时触发。对于复选框（`<input type=checkbox>`）或单选框（`<input type=radio>`），用户改变选项时，也会触发这个事件。

input事件的一个特点是会连续触发，比如用户每按下一次按键，就会触发一次input事件。

```html
<input type="text" id="username" placeholder="username">

<script>
    let username = document.getElementById("username")

    username.addEventListener("input", function (event) {
        console.log(event.target.value)
    })
</script>
```

在输入框内依次键入"username"后控制台输出

```console
u
us
use
user
usern
userna
usernam
username
```

#### select事件

select事件在`<input>`、`<textarea>`中选中文本时触发。

```html
<input type="text" id="username" placeholder="username">

<script>
    let username = document.getElementById("username")

    username.addEventListener("select", function (event) {
        // 获取选择的文本
        const selectedText = username.value.substring(
            username.selectionStart,
            username.selectionEnd
        )

        console.log("选中的文本：", selectedText)
    })
</script>
```

在输入框中输入"username"并选中"user"后，控制台输出

```console
选中的文本： user
```

#### change事件

change事件在`<input>`、`<select>`、`<textarea>`的值发生变化时触发。它与input事件的最大不同就是不会连续触发，只有当全部修改完成后才会触发。

```html
<input type="text" id="username" placeholder="username">

<script>
    let username = document.getElementById("username")

    username.addEventListener("change", function (event) {
        console.log(event.target.value)
    })
</script>
```

在输入框中输入"username"并回车或者点击空白处失去焦点后，控制台输出

```console
username
```

在输入没有完成之前控制台没有输出。

#### focus事件和blur事件

focus事件在元素获取焦点时触发，blur事件在元素失去焦点时触发。通常用于`<input>`, `<select>`, 和`<a>`。

```html
<input type="text" id="username" placeholder="请输入用户名">

<script>
    let username = document.getElementById("username")

    username.addEventListener("focus", function ()  {
        this.style.background = "red"
    })

    username.addEventListener("blur", function () {
        this.style.background = ""
    })
</script>
```

当输入框获得焦点时网页输出

<!-- markdownlint-disable no-inline-html -->
<input type="text" id="username" placeholder="请输入用户名" style="background: red">
<!-- markdownlint-restore -->

失去焦点后网页输出

<!-- markdownlint-disable no-inline-html -->
<input type="text" id="username" placeholder="请输入用户名">
<!-- markdownlint-restore -->

### 表单验证事件

#### invalid事件和valid事件

invalid事件在表单验证失败时触发，valid事件在表单验证通过时触发。

```html
<input type="email" id="email" required placeholder="请输入邮箱">
<div id="emailError" class="error-message"></div>

<script>
    let emailInput = document.getElementById("email")
    let emailError = document.getElementById("emailError")

    // invalid事件处理
    emailInput.addEventListener("invalid", function(event) {
        event.preventDefault() // 阻止默认浏览器错误提示
        
        if (this.validity.valueMissing) {
            this.setCustomValidity('邮箱地址不能为空')
        } else if (this.validity.typeMismatch) {
            this.setCustomValidity('请输入有效的邮箱格式')
        }
        
        emailError.textContent = this.validationMessage
        this.classList.add('invalid')
    })

    // valid事件处理
    emailInput.addEventListener("valid", function() {
        emailError.textContent = ''
        this.classList.remove('invalid')
        this.classList.add('valid')
        this.setCustomValidity('') // 清除自定义错误信息
    })

    // 输入时重新验证
    emailInput.addEventListener("input", function() {
        this.checkValidity() // 触发验证
    })
</script>
```
