---
title: 字符串及字符串方法
date: 2025-09-01
tags: ["javascript", "字符串"]
excerpt: "学习使用字符串和字符串方法"
---

## 字符串

字符串就是零个或多个排列在一起的字符，放在单引号或双引号之中。

```javascript
'string'
"string"
```

单引号字符串的内部，可以使用双引号。双引号字符串的内部，可以使用单引号。

```javascript
'key = "value"'
"It's a long time"
```

字符串的索引从0开始，这意味着第一个字符索引值为[0]，第二个为[1]，以此类推。

```javascript
let s = 'string'
console.log(s[1])
```

输出结果

```console
t
```

如果要在单引号字符串内部使用单引号，就需要在内部的单引号前面加上反斜杠来进行转义。双引号字符串同理。

```javascript
'Did she say \'Hello\'?'

"Did she say \"Hello\"?"
```

输出结果

```console
'Did she say 'Hello'?'

"Did she say "Hello"?"
```

**温馨提示**&nbsp;&nbsp;&nbsp;&nbsp;字符串默认只能写在一行里，分成多行会报错

如果长字符串必须分成多行，可以在每一行的尾部使用反斜杠`\`。

```javascript
let longString = 'Long \
long \
string'
console.log(longString)
```

输出结果

```console
Long        long        string
```

## 字符串也可以是对象

通常，JavaScript字符串是原始值，可以使用字符创建：`let firstName = "John"`

但我们也可以使用`new`关键字将字符串定义为一个对象：`let firstName = new String("John")`

```javascript
let s1 = "John"
let s2 = new String("John")

console.log(typeof(s1))
console.log(typeof(s2))
```

输出结果

```console
string
object
```

**注意**&nbsp;&nbsp;&nbsp;&nbsp;不要创建String对象。它会拖慢执行速度，并可能产生其他副作用。

## 字符串属性

|属性|描述|
|----|-----|
|constructor|返回创建字符串属性的函数|
|length|返回字符串的长度|
|prototype|允许您向对象添加属性和方法|

### length 属性

length属性返回字符串的长度，该属性也是无法改变的。

```javascript
var s = 'stringlength'
console.log(s.length)
```

输出结果

```console
12
```

## 字符串方法

|方法|描述|
|---|---|
|charAt()|返回指定索引位置的字符|
|concat()|连接两个或更多字符串，并返回新的字符串|
|split()|把字符串分割为子字符串数组|
|substr()|从起始索引号提取字符串中指定数目的字符|
|substring()|提取字符串中两个指定的索引号之间的字符|
|indexOf()|返回字符串中检索指定字符第一次出现的位置|
|trim()|移除字符串首尾空白|

### charAt()

`charAt()`方法返回指定位置的字符，参数是从0开始索引的。

```javascript
let s = 'string'

console.log(s.charAt(0))
console.log(s.charAt(3))
```

输出结果

```console
s
i
```

如果参数为负数或大于等于字符串的长度，`charAt()`返回空字符串。

```javascript
let s = 'string'

console.log(s.charAt(-1))
console.log(s.charAt(8))
```

输出结果

```console


```

### contact()

`contact()`方法用于连接两个字符串，返回一个新的字符串，不改变原字符串。

```javascript
let s1 = 'John'
let s2 = 'Doe'

console.log(s1.concat(s2))
```

输出结果

```console
JohnDoe
```

该方法可以接受多个参数

```javascript
let s3 = hello

console.log(s1.concat(s2, s3))
```

输出结果

```console
JohnDoehello
```

~~如果参数不是字符串，`contact()`方法会将其先转为字符串，然后再连接。~~(经过测试会报错)

将字符串相加可以实现相同的效果。

```javascript
let s1 = 'John'
let s2 = 'Doe'

console.log(s1 + s2)
```

输出结果

```console
JohnDoe
```

### split()

`split()`方法按照给定的规则分割字符串，返回一个由分割出来的子字符串组成的数组。

```javascript
console.log('It|is|your|pen.')
console.log('It|is|your|pen.'.split('|'))
```

输出结果

```console
It|is|your|pen.
['It', 'is', 'your', 'pen.']
```

如果分割规则为空字符串，则返回数组的成员是原字符串的每一个字符。

```javascript
console.log('It|is|your|pen.'.split(''))
```

输出结果

```console
['I', 't', '|', 'i', 's', '|', 'y', 'o', 'u', 'r', '|', 'p', 'e', 'n', '.']
```

如果省略参数，则返回数组的唯一成员就是原字符串。

```javascript
console.log('It|is|your|pen.'.split())
```

输出结果

```console
['It|is|your|pen.']
```

`split()`方法还可以接受第二个参数，限定返回数组的最大成员数。

```javascript
console.log('It|is|your|pen.'.split('|', 0))
console.log('It|is|your|pen.'.split('|', 1))
console.log('It|is|your|pen.'.split('|', 2))
console.log('It|is|your|pen.'.split('|', 3))
console.log('It|is|your|pen.'.split('|', 4))
```

输出结果

```console
[]
['It']
['It', 'is']
['It', 'is', 'your']
['It', 'is', 'your', 'pen.']
```

### substr()

`substr()`方法用于从原字符串取出子字符串并返回，不改变原字符串。它的第一个参数表示子字符串的开始位置（从0开始索引），第二个参数是子字符串的长度。

```javascript
let s = 'helloworld'

console.log(s.substr(5, 5))
```

输出结果

```console
hello
```

如果舍弃第二个参数，则表示子字符串一直到原字符串的结束。

```javascript
console.log(s.substring(5))
```

输出结果

```console
world
```

如果第一个参数是负数，表示倒数计算的字符位置。如果第二个参数是负数，将自动转为0，因此会返回空字符串。

```javascript
console.log(s.substr(-5))
console.log(s.substr(1，-1))
```

输出结果

```console
world

```

### substring()

`substring()`方法用于从原字符串取出子字符串并返回，不改变原字符串。它的第一个参数表示子字符串的开始位置，第二个参数表示结束位置（返回结果不含该位置）

```javascript
let s = 'helloworld'

console.log(s.substring(0, 5))
```

输出结果

```console
hello
```

如果舍弃第二个参数，则表示子字符串一直到原字符串的结束。

```javascript
console.log(s.substring(5))
```

输出结果

```console
world
```

如果第一个参数大于第二个参数，`substring()`方法会自动更换两个参数的位置。

```javascript
console.log(s.substring(5, 0))
```

输出结果

```console
hello
```

**注意**&nbsp;&nbsp;&nbsp;&nbsp;正常使用第二个参数要比第一个参数大。

### indexOf()

`index()`方法用于确定一个字符串在另一个字符串中第一次出现的位置，返回结果是匹配开始的位置 。如果返回-1，就表示不匹配。

```javascript
let s = 'hello world'

console.log(s.indexOf('o'))
```

输出结果

```console
4
```

`index()`方法还可以接受第二个参数，表示从该位置（包含该位置）开始向后匹配。

```javascript
console.log(s.indexOf('o', 4))
console.log(s.indexOf('o', 5))
```

输出结果

```console
4
7
```

### trim()

`trim()`方法用于去除字符串两端的空格，返回一个新字符串，不改变原字符串。

```javascript
console.log('  hello world  '.trim())
```

输出结果

```console
  hello world  
hello world
```

该方法去除的不仅是空格，还包括制表符（`\t`、`\v`）、换行符（`\n`）和回车符（`\r`）

```javascript
console.log('\r\nhelloworld \t')
console.log('\r\nhelloworld \t'.trim())
```

输出结果

```console

helloworld  
helloworld
```

ES6扩展方法，`trimEnd()`和`trimStart()`方法。`trimEnd()`方法是去除字符串后端的空格，`trimStart()`方法是去除字符串前端的空格。
