---
title: 字符串扩展
date: 2025-09-23
tags: ["javascript", "字符串", "ES6"]
excerpt: "ES6字符串扩展与新增方法"
---

## 字符串扩展

### 字符串Unicode表示法

ES6加强了对Unicode的支持，允许采用`\uxxxx`形式表示一个字符，其中`xxxx`表示字符的Unicode码点。

#### Unicode

统一码（Unicode），也叫万国码、单一码，是计算机科学领域里的一项业界标准，包括字符集、编码方案等。Unicode是为了解决传统的字符编码方案的局限而产生的，它为每种语言中的每个字符设定了统一并且唯一的二进制编码，以满足跨语言、跨平台进行文本转换、处理的要求。

```javascript
console.log("\u0061")
```

输出

```console
a
```

### 字符串遍历器接口

`for...of`遍历

```javascript
for (const i of "hello") {
    console.log(i)
}
```

控制台输出

```console
h
e
l
l
o
```

### 模板字符串

模板字符串（template string）是增强版的字符串，用反引号（`)标识。它可以当做普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。

如果要实现动态创建一个`<a>`标签，`<a>`标签href属性也是动态的。

首先创建变量`href`用来存储动态的`href`属性。

```javascript
let href = "https://zhidao.baidu.com/"
let text = "百度知道"
```

用传统的方式实现

```javascript
let h1 = "<a herf='"+ href +"'>"+ text + "</a>"
```

使用模板字符串

```javascript
let h2 = `<a herf="${href}">${text}</a>`
```

### 字符串新增方法

#### `includes()`, `startsWith()`, `endsWith()`

传统上，JavaScript只有`indexOf()`方法，可以用来确定一个字符串是否包含在另一个字符串中。

ES6又提供了三种新方法`includes()`, `startsWith()`, `endsWith()`。

+ `includes()`：返回布尔值，表示是否找到了字符串。
+ `startsWith()`：返回布尔值，表示参数字符串是否在原字符串的头部。
+ `endsWith()`：返回布尔值，表示参数字符串是否在原字符串的尾部。

```javascript
let string = "Hello World!"

console.log(string.includes("o"))
console.log(string.startsWith("H"))
console.log(string.endsWith("!"))
```

控制台输出

```console
true
true
true
```

这三个方法都支持第二个参数，表示开始搜索的位置。（`includes()`和`startsWith()`是正序，`endsWith()`是逆序）

```javascript
let string = "Hello World!"

console.log(string.includes("W", 6))
console.log(string.startsWith("Hello", 5))
console.log(string.endsWith("llo", 5))
```

控制台输出

```console
true
false
true
```

#### `repeat()`

`repeat()`方法返回一个新字符串，表示将原字符串重复`n`次。

```javascript
console.log("a".repeat(3))
console.log("hello".repeat(2))
console.log("a".repeat(0))
```

控制台输出

```console
aaa
hellohello

```

#### `padStart()`, `padEnd()`

ES2017引入了字符串补全长度的功能。如果某个字符串不够指定长度，会在头部或尾部补全。`padStart()`用于头部补全， `padEnd()`用于尾部补全。

格式

```javascript
"字符串".padStart(指定长度, "填充内容")
"字符串".padEnd(指定长度, "填充内容")
```

比如

```javascript
console.log("x".padStart(5, "ab"))
console.log("x".padStart(4, "ab"))
console.log("x".padEnd(4, "ab"))
console.log("x".padEnd(5, "ab"))
```

控制台输出

```console
ababx
abax
xaba
xabab
```

#### `trimStart()`, `trimEnd()`

ES2019对字符串实例新增了`trimEnd()`和`trimStart()`方法。它们的行为和`trim()`方法一致。`trimStart()`方法是去除字符串前端的空格，`trimEnd()`方法是去除字符串后端的空格。它们返回的都是新字符串，不会修改原字符串。方法去除的不仅是空格，还包括制表符（`\t`、`\v`）、换行符（`\n`）和回车符（`\r`）。

```javascript
let string = "  hello  "

console.log(string.trim())
console.log(string.trimStart())
console.log(string.trimEnd())
```

控制台输出（方便查看空格用引号包裹结果）

```console
"hello"
"hello  "
"  hello"
```

#### `at()`

`at()`方法接受一个整数（从0开始计数）作为参数，返回参数指定位置的字符，支持负索引（即倒数的位置）。

```javascript
let string = "hello"

console.log(string.at(0))
console.log(string.at(-1))
console.log(string.at(1))
console.log(string.at(5))
```

控制台输出

```console
h
o
e
undefined
```

**注意**&nbsp;&nbsp;&nbsp;&nbsp;如果参数位置超出了字符串范围，`at()`返回`undefined`。
